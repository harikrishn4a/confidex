{"_id":"@lynx-js/use-sync-external-store","_rev":"3-2b2b17032f992b4ce712cb7d17a0a3f4","name":"@lynx-js/use-sync-external-store","dist-tags":{"latest":"1.5.0"},"versions":{"1.5.0":{"name":"@lynx-js/use-sync-external-store","version":"1.5.0","keywords":["react","lynx"],"license":"MIT","_id":"@lynx-js/use-sync-external-store@1.5.0","maintainers":[{"name":"lynxdev-admin","email":"haoyang512@hotmail.com"},{"name":"jianliang00","email":"jianliangw1@gmail.com"},{"name":"colinaaa","email":"colinwang.0616@gmail.com"}],"homepage":"https://github.com/lynx-family/lynx-stack#readme","bugs":{"url":"https://github.com/lynx-family/lynx-stack/issues"},"dist":{"shasum":"0914713270203d420cc91dcc7d6db5c764c7fbb0","tarball":"https://registry.npmjs.org/@lynx-js/use-sync-external-store/-/use-sync-external-store-1.5.0.tgz","fileCount":7,"integrity":"sha512-iXwLiGUBgfWLozCIh3ICe07x534p9CVlFS3/iGEiFOce58MLX6/PbAvWcE8qEhYaOKiQNe9hqUnS2RbyCqoqGg==","signatures":[{"sig":"MEUCIEgJCYQnCekTirHZSyomdlgO7yTaeW8Zs6gKz5jhqyW0AiEA4IsOeLsxuVRcg+RH/N/+hCsNUBKkv3efCgsPRU3109Y=","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@lynx-js%2fuse-sync-external-store@1.5.0","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"unpackedSize":12324},"type":"module","_from":"file:lynx-js-use-sync-external-store-1.5.0.tgz","types":"index.d.ts","exports":{".":{"types":"./index.d.ts","default":"./index.js"},"./shim":{"types":"./index.d.ts","default":"./index.js"},"./package.json":"./package.json","./with-selector":{"types":"./with-selector.d.ts","default":"./with-selector.js"},"./shim/with-selector":{"types":"./with-selector.d.ts","default":"./with-selector.js"}},"scripts":{"test":"vitest","test:type":"vitest --typecheck.only"},"_npmUser":{"name":"lynxdev-admin","email":"haoyang512@hotmail.com"},"_resolved":"/tmp/63ee1bec38ad3e150a072a538913899e/lynx-js-use-sync-external-store-1.5.0.tgz","_integrity":"sha512-iXwLiGUBgfWLozCIh3ICe07x534p9CVlFS3/iGEiFOce58MLX6/PbAvWcE8qEhYaOKiQNe9hqUnS2RbyCqoqGg==","repository":{"url":"git+https://github.com/lynx-family/lynx-stack.git","type":"git","directory":"packages/use-sync-external-store"},"_npmVersion":"10.9.2","description":"A pure ESM fork of use-sync-external-store. Works with @lynx-js/react.","directories":{},"_nodeVersion":"22.15.0","_hasShrinkwrap":false,"devDependencies":{"@lynx-js/react":"0.109.1"},"peerDependencies":{"@lynx-js/react":"*"},"_npmOperationalInternal":{"tmp":"tmp/use-sync-external-store_1.5.0_1748687031484_0.03562684144515127","host":"s3://npm-registry-packages-npm-production"}}},"time":{"created":"2025-05-31T10:23:51.375Z","modified":"2025-08-08T07:04:23.066Z","1.5.0":"2025-05-31T10:23:51.665Z"},"bugs":{"url":"https://github.com/lynx-family/lynx-stack/issues"},"license":"MIT","homepage":"https://github.com/lynx-family/lynx-stack#readme","keywords":["react","lynx"],"repository":{"url":"git+https://github.com/lynx-family/lynx-stack.git","type":"git","directory":"packages/use-sync-external-store"},"description":"A pure ESM fork of use-sync-external-store. Works with @lynx-js/react.","maintainers":[{"email":"haoyang512@hotmail.com","name":"lynxdev-admin"},{"email":"jianliangw1@gmail.com","name":"jianliang00"},{"email":"colinwang.0616@gmail.com","name":"colinaaa"}],"readme":"# @lynx-js/use-sync-external-store\n\nThis is a pure ESM fork of the [`use-sync-external-store`](https://www.npmjs.com/package/use-sync-external-store) package specifically adapted for using with [ReactLynx](https://lynxjs.org/react).\n\n## Background\n\nThe original `use-sync-external-store` package works with ReactLynx but has some limitations:\n\n1. Only CommonJS (CJS) exports are supported, which results in the [`concatenateModules`](https://rspack.rs/config/optimization#optimizationconcatenatemodules) optimization bailout for `@lynx-js/react` (a dependency of use-sync-external-store), leading to increased bundle size and slower execution.\n2. Default import of React is used, which results in the whole `@lynx-js/react` being bundled, making the [`usedExports`](https://rspack.rs/config/optimization#optimizationusedexports) optimization ineffective.\n\nSince `use-sync-external-store` is used in popular libraries like [Zustand](https://github.com/pmndrs/zustand), we provide our own version to ensure optimal performance and bundle size when using these libraries with ReactLynx.\n\n### Changes from Original Package\n\n- Use `@lynx-js/react` instead of `react`\n- Use named import instead of default import\n- Export pure ESM instead of CommonJS\n\n## Usage\n\nThis package is designed to be used as a drop-in replacement for libraries that import `useSyncExternalStore` hooks directly from the `use-sync-external-store` package. It's intended to be used as a bundler-level alias to preserve optimizations that would otherwise be lost due to the original package being CJS and default importing React.\n\n### Configuration\n\nAdd the following alias configuration to your bundler (e.g., Rspack):\n\n```js\n// rspack.config.js\nexport default {\n  resolve: {\n    alias: {\n      'use-sync-external-store': '@lynx-js/use-sync-external-store',\n    },\n  },\n};\n```\n\nNo code changes are required for end developers - the package maintains the exact same API as the original.\n\n## License\n\nMIT License\n\nCopyright (c) 2025 Meta Platforms, Inc. and affiliates.\nCopyright (c) 2025 Lynx Authors.\n","readmeFilename":"README.md"}